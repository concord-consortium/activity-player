{
  "description": "<p>This is a sample activity that contains the responsive 50/50 layout types.</p>",
  "editor_mode": 0,
  "layout": 0,
  "name": "50-50 Layout Types",
  "notes": "",
  "project": {
    "about": "",
    "collaborators": "",
    "collaborators_image_url": "",
    "contact_email": "",
    "copyright": "",
    "copyright_image_url": "",
    "footer": "<p class=\"footer-txt\">This open educational resource from the Concord Consortium is free for use under the Creative Commons Attribution International license (<a href=\"http://creativecommons.org/licenses/by/4.0/\">CC-BY 4.0</a>) and powered by open source software packages. For info about our licenses, please see our <a href=\"http://concord.org/software-license\">licenses page</a>. When sharing this resource, include attribution to the Concord Consortium and links to <a href=\"http://concord.org/\">concord.org</a> and the CC-BY-4.0 license. Copyright &copy; 2017 The Concord Consortium.</p><p class=\"footer-txt\">This Next-Generation Molecular Workbench activity was developed with a grant from <a href=\"http://www.google.org/\">Google.org</a>. The original <a href=\"http://mw.concord.org/modeler/\">Classic Molecular Workbench</a> was supported by a series of grants from the <a href=\"http://nsf.gov/\">National Science Foundation</a>.</p><p class=\"footer-txt\">Questions? Comments? You can reach us at <a href=\"mailto:nextgenmw@concord.org\">nextgenmw@concord.org</a>.</p>",
    "funders_image_url": "",
    "logo_ap": "https://static.concord.org/projects/logos/ap/mw-logo.png",
    "logo_lara": "https://static.concord.org/projects/logos/lara/mw-logo.png",
    "project_key": "molecular-workbench",
    "title": "Molecular Workbench",
    "url": "http://mw.concord.org/nextgen"
  },
  "related": "<p>Related content here.</p>",
  "show_submit_button": true,
  "student_report_enabled": true,
  "thumbnail_url": "https://upload.wikimedia.org/wikipedia/commons/c/c1/Six_weeks_old_cat_%28aka%29.jpg",
  "time_to_complete": 20,
  "version": 2,
  "theme_name": null,
  "background_image": null,
  "fixed_width_layout": "1100px",
  "pages": [
    {
      "is_completion": false,
      "is_hidden": false,
      "name": "Responsive 50-50",
      "position": 1,
      "show_sidebar": true,
      "sidebar": "\n\n<p dir=\"ltr\" style=\"line-height:1.575;margin-top:0pt;margin-bottom:11pt;text-align: justify;\"><span style=\"font-size:1rem;font-family:Calibri;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vestibulum elit nulla, at convallis urna pretium vitae. Phasellus quis efficitur ipsum. Aliquam laoreet, ex pharetra facilisis volutpat, ante erat pretium sem, ac feugiat tortor metus vitae augue. Nulla orci arcu, elementum et dui eget, consequat elementum nisi. Donec sodales tempor libero at facilisis. Phasellus porta, arcu in pellentesque imperdiet, urna velit tristique enim, sed ultricies enim nunc vel urna. Suspendisse venenatis augue risus, vel euismod mi tincidunt id. Quisque a vehicula lacus. Sed elementum ornare purus id venenatis. Aenean enim velit, interdum eget tortor non, varius suscipit magna. Ut varius rutrum metus nec consequat. Sed tempus orci vitae dui elementum vulputate. Phasellus scelerisque purus id scelerisque sollicitudin. Morbi vehicula diam sit amet enim placerat efficitur. In hac habitasse platea dictumst. Morbi pulvinar, mi a interdum venenatis, nisl nunc fringilla sapien, et fermentum arcu nisl dictum leo.</span></p><p dir=\"ltr\" style=\"line-height:1.575;margin-top:0pt;margin-bottom:11pt;text-align: justify;\"><span style=\"font-size:1rem;font-family:Calibri;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"><img src=\"https://s-media-cache-ak0.pinimg.com/originals/73/ec/f3/73ecf348c3ef190be4e8c4a3269fc0d8.jpg\" title=\"\" alt=\"\" style=\"width: 150px; height: 150px;\"><span style=\"line-height: 14px;\"><br></span></span></p><p dir=\"ltr\" style=\"line-height:1.575;margin-top:0pt;margin-bottom:11pt;text-align: justify;\"><span style=\"font-size:1rem;font-family:Calibri;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"><span style=\"line-height: 14px;\">Aliquam a consequat diam, vitae porttitor tortor. Ut nec orci ex. Morbi lobortis, sem luctus tempus tincidunt, turpis nisi pharetra metus, at fringilla ipsum mi eget quam. Aliquam erat volutpat. Morbi consequat tellus elementum nulla mollis gravida. Integer venenatis sem sed libero fringilla pharetra. Vivamus congue ligula erat, non ultricies mi imperdiet a. Phasellus vitae odio elementum, pharetra turpis quis, vehicula nibh. Donec sit amet interdum ante. Maecenas at sapien sed est lacinia tristique vel ut urna. Vivamus feugiat mi id odio tincidunt facilisis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi varius vehicula massa, non suscipit libero faucibus at. Cras a tincidunt purus. Vestibulum at sodales turpis. Donec facilisis lacus sit amet bibendum dignissim.</span><br></span></p>\n\n",
      "sidebar_title": "Did you know?",
      "sections": [
        {
          "title": "assessment_block",
          "name": null,
          "layout": "responsive-50-50",
          "is_hidden": false,
          "secondary_column_collapsible": false,
          "secondary_column_display_mode": "stacked",
          "embeddables": [
            {
              "column": "primary",
              "is_half_width": true,
              "content": "<p>This is a text block.</p>",
              "is_callout": true,
              "is_hidden": false,
              "name": "text block",
              "type": "Embeddable::Xhtml",
              "ref_id": "272115-Embeddable::Xhtml"
            },
            {
              "column": "primary",
              "is_half_width": false,
              "name": "mc question",
              "url_fragment": null,
              "authored_state": "{\"version\":1,\"questionType\":\"multiple_choice\",\"multipleAnswers\":false,\"layout\":\"vertical\",\"choices\":[{\"id\":\"1\",\"content\":\"Choice A\",\"correct\":false},{\"id\":\"2\",\"content\":\"Choice B\",\"correct\":false},{\"id\":\"3\",\"content\":\"Choice C\",\"correct\":false}],\"prompt\":\"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\",\"hint\":\"<p>this is a hint</p>\"}",
              "is_hidden": false,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "linked_interactive_item_id": null,
              "library_interactive": {
                "hash": "af5d1860b2d4a037ae01e3d86931a30886fcb42d",
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "",
                  "base_url": "https://models-resources.concord.org/question-interactives/version/v1.7.0/multiple-choice/",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "A basic multiple choice interactive. This is pointing to the master branch and is in development so it shouldn't be used by real activities. \r\n",
                  "enable_learner_state": true,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Multiple Choice (master)",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": true,
                  "authorable": true
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "314-ManagedInteractive"
            },
            {
              "column": "primary",
              "is_half_width": false,
              "name": "",
              "url_fragment": null,
              "authored_state": "{\"version\":1,\"questionType\":\"open_response\"}",
              "is_hidden": false,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "linked_interactive_item_id": null,
              "library_interactive": {
                "hash": "da655ced823a0246a5f8c5c46c90345f28f53efe",
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "",
                  "base_url": "https://models-resources.concord.org/question-interactives/version/v1.7.0/open-response/",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "This shouldn't be used by any real activities it is still under development.",
                  "enable_learner_state": true,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Open Response (master)",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": false,
                  "authorable": true
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "315-ManagedInteractive"
            },
            {
              "column": "primary",
              "is_half_width": false,
              "name": "",
              "url_fragment": "",
              "authored_state": "",
              "is_hidden": false,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "linked_interactive_item_id": null,
              "library_interactive": {
                "hash": "53f9a6e00236e2c86b5c3dbf2fe186e179ed8872",
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "<p>Author a model at&nbsp;<a href=\"https://connected-bio-spaces.concord.org/?authoring\">https://connected-bio-spaces.concord.org/?authoring</a>, hit Submit, then copy the fragment of the url after \"?\".</p>",
                  "base_url": "https://connected-bio-spaces.concord.org/",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "",
                  "enable_learner_state": true,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Connected Bio",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": false,
                  "authorable": false
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "331-ManagedInteractive"
            },
            {
              "column": "primary",
              "is_half_width": false,
              "content": "<p><strong>This is a page with responsive layout</strong>.&nbsp; This page contains:</p>\r\n<ul>\r\n<li>A text box in the header section which should be displayed as a page introduction.&nbsp;</li>\r\n<li>The left, info/assessment section contains a text box, a multiple choice question, an open response question, and a library interactive with&nbsp;enable_learner_state set to true (so that it should get a question number and header).&nbsp;</li>\r\n<li>The right, interactive box section contains an iframe interactive with&nbsp;enable_learner_state set to true (so that it should get a question number and header).</li>\r\n<li>A page sidebar.</li>\r\n</ul>",
              "is_callout": false,
              "is_hidden": false,
              "name": "",
              "type": "Embeddable::Xhtml",
              "ref_id": "271777-Embeddable::Xhtml"
            },
            {
              "column": "secondary",
              "is_half_width": false,
              "aspect_ratio_method": "DEFAULT",
              "authored_state": "",
              "click_to_play": false,
              "click_to_play_prompt": null,
              "enable_learner_state": false,
              "full_window": false,
              "has_report_url": false,
              "image_url": null,
              "is_hidden": false,
              "model_library_url": null,
              "name": "wikipedia",
              "native_height": 435,
              "native_width": 576,
              "no_snapshots": false,
              "show_delete_data_button": true,
              "show_in_featured_question_report": true,
              "url": "https://www.wikipedia.org/",
              "type": "MwInteractive",
              "ref_id": "210508-MwInteractive"
            }
          ]
        }
      ]
    },
    {
      "is_completion": false,
      "is_hidden": false,
      "name": "Responsive 50-50 with Collapsible Column",
      "position": 2,
      "show_sidebar": false,
      "sidebar": null,
      "sidebar_title": "Did you know?",
      "sections": [
        {
          "layout": "full-width",
          "is_hidden": false,
          "secondary_column_collapsible": false,
          "secondary_column_display_mode": "stacked",
          "embeddables": [
            {
              "column": null,
              "is_half_width": false,
              "content": "<p>The section below uses the 50-50 layout and has a collapsible column.</p>",
              "is_callout": true,
              "is_hidden": false,
              "name": "",
              "type": "Embeddable::Xhtml",
              "ref_id": "272424-Embeddable::Xhtml"
            }
          ]
        },
        {
          "title": "assessment_block",
          "name": null,
          "layout": "responsive-50-50",
          "is_hidden": false,
          "secondary_column_collapsible": true,
          "secondary_column_display_mode": "stacked",
          "embeddables": [
            {
              "column": "primary",
              "is_half_width": false,
              "name": "New AS",
              "url_fragment": null,
              "authored_state": "{\"version\":1,\"questionType\":\"iframe_interactive\",\"gridHeight\":450,\"gridWidth\":450,\"gridStep\":10,\"code\":\"\\nconst sheepSvg = `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 300 300\\\">\\n  <!-- Circles (color -1 -> #FFFFFF) -->\\n  <circle cx=\\\"247\\\" cy=\\\"109\\\" r=\\\"44\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <circle cx=\\\"151\\\" cy=\\\"146\\\" r=\\\"81\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <circle cx=\\\"210\\\" cy=\\\"165\\\" r=\\\"60\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Polygon (color -7500403 -> #8D8D8D), filled no stroke -->\\n  <polygon\\n    points=\\\"218,120 240,165 255,165 278,120\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n\\n  <!-- Circle (ear) -->\\n  <circle cx=\\\"247.5\\\" cy=\\\"105.5\\\" r=\\\"33.5\\\" fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\" />\\n\\n  <!-- Rectangles (legs) -->\\n  <rect x=\\\"164\\\" y=\\\"223\\\" width=\\\"15\\\" height=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <rect x=\\\"65\\\"  y=\\\"221\\\" width=\\\"15\\\" height=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Polygons (legs) -->\\n  <polygon\\n    points=\\\"45,285 30,285 30,240 15,195 45,210\\\"\\n    fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\"\\n  />\\n  <polygon\\n    points=\\\"195,285 210,285 210,240 240,210 195,210\\\"\\n    fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\"\\n  />\\n\\n  <!-- Large body circle -->\\n  <circle cx=\\\"78\\\" cy=\\\"158\\\" r=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Small head/ear polygons -->\\n  <polygon\\n    points=\\\"276,85 285,105 302,99 294,83\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n  <polygon\\n    points=\\\"219,85 210,105 193,99 201,83\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n</svg>\\n`;\\n\\nconst wolfSvg = `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 300 300\\\">\\n  <!-- Polygon -16777216 true false -->\\n  <!-- color = #000000 (black), filled, no stroke -->\\n  <polygon\\n    points=\\\"253,133 245,131 245,133\\\"\\n    fill=\\\"#000000\\\"\\n    stroke=\\\"none\\\"\\n  />\\n\\n  <!-- Polygon -7500403 true true -->\\n  <!-- color = #8D8D8D (gray), filled + stroked -->\\n  <polygon\\n    points=\\\"2,194 13,197 30,191 38,193 38,205 20,226 20,257 27,265 38,266 40,260 31,253 31,230 60,206 68,198 75,209 66,228 65,243 82,261 84,268 100,267 103,261 77,239 79,231 100,207 98,196 119,201 143,202 160,195 166,210 172,213 173,238 167,251 160,248 154,265 169,264 178,247 186,240 198,260 200,271 217,271 219,262 207,258 195,230 192,198 210,184 227,164 242,144 259,145 284,151 277,141 293,140 299,134 297,127 273,119 270,105\\\"\\n    fill=\\\"#8D8D8D\\\"\\n    stroke=\\\"#8D8D8D\\\"\\n    stroke-width=\\\"1\\\"\\n    stroke-linejoin=\\\"round\\\"\\n  />\\n\\n  <!-- Polygon -7500403 true true -->\\n  <!-- color = #8D8D8D (gray), filled + stroked -->\\n  <polygon\\n    points=\\\"-1,195 14,180 36,166 40,153 53,140 82,131 134,133 159,126 188,115 227,108 236,102 238,98 268,86 269,92 281,87 269,103 269,113\\\"\\n    fill=\\\"#8D8D8D\\\"\\n    stroke=\\\"#8D8D8D\\\"\\n    stroke-width=\\\"1\\\"\\n    stroke-linejoin=\\\"round\\\"\\n  />\\n</svg>\\n`;\\n\\nconst encodeSvg = (svg) => `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svg)}`;\\nconst wolfImage = encodeSvg(wolfSvg);\\nconst sheepImage = encodeSvg(sheepSvg);\\n\\nconst sheepEnergy = 6;\\nconst sheepReproduceChance = 0.002;\\nconst sheepEnergyLoss = 0.01;\\n\\nconst wolfEnergy = 20;\\nconst wolfReproduceChance = 0.0005;\\nconst wolfEnergyLoss = 0.1;\\n\\nconst maxGrassLevel = 10;\\nconst grassGrowthRate = 0.01;\\n\\n// Create widgets\\naddWidget({\\n  data: {\\n    label: \\\"Sheep Energy from Grass\\\",\\n    min: 1,\\n    max: 50,\\n    showReadout: true\\n  },\\n  defaultValue: 3,\\n  globalKey: \\\"sheepEnergyFromGrass\\\",\\n  type: \\\"slider\\\"\\n});\\naddWidget({\\n  data: {\\n    label: \\\"Sheep Energy from Grass\\\"\\n  },\\n  globalKey: \\\"sheepEnergyFromGrass\\\",\\n  type: \\\"readout\\\"\\n});\\naddWidget({\\n  data: {\\n    label: \\\"Sheep\\\"\\n  },\\n  defaultValue: 0,\\n  globalKey: \\\"sheepCount\\\",\\n  type: \\\"readout\\\"\\n});\\naddWidget({\\n  data: {\\n    backgroundColor: \\\"#666\\\",\\n    color: \\\"#fff\\\",\\n    label: \\\"Wolves\\\"\\n  },\\n  defaultValue: 0,\\n  globalKey: \\\"wolfCount\\\",\\n  type: \\\"readout\\\"\\n});\\n\\nfunction setup() {\\n  create_sheep(50);\\n  create_wolves(10);\\n}\\n\\n// Agents added outside of the sim tick function (like onClick) do not get added to the renderer,\\n// so instead of adding agents directly, we create a queue and add them in beforeTick.\\nlet actorsToAdd = [];\\n\\nsim.beforeTick = () => {\\n  actorsToAdd.forEach(a => a.addTo(sim));\\n  actorsToAdd = [];\\n}\\n\\nsim.afterTick = () => {\\n  sim.squares.forEach(square => {\\n    // Grow grass\\n    if (square.state.grassLevel < maxGrassLevel) {\\n      square.state.grassLevel = Math.min(maxGrassLevel, square.state.grassLevel + grassGrowthRate);\\n    }\\n  });\\n\\n  sim.actors?.forEach(a => {\\n    // Lose energy and possibly die\\n    const energyLoss = a.label(\\\"sheep\\\") ? sheepEnergyLoss : wolfEnergyLoss;\\n    a.state.energy = a.state.energy - energyLoss;\\n    if (a.state.energy <= 0) {\\n      const globalKey = a.label(\\\"sheep\\\") ? \\\"sheepCount\\\" : \\\"wolfCount\\\";\\n      globals.set(globalKey, globals.get(globalKey) - 1);\\n      a.remove();\\n      return;\\n    }\\n\\n    // Turn\\n    a.vel.turn(Math.random() * Math.PI / 4 - Math.PI / 8);\\n\\n    // Reproduce\\n    const reproduceChance = a.label(\\\"sheep\\\") ? sheepReproduceChance : wolfReproduceChance;\\n    if (Math.random() < reproduceChance) {\\n      const addFunction = a.label(\\\"sheep\\\") ? create_a_sheep : create_a_wolf;\\n      addFunction({ energy: a.state.energy / 2, x: a.x, y: a.y });\\n      a.state.energy = a.state.energy / 2;\\n    }\\n  });\\n\\n  sim.withLabel(\\\"sheep\\\").forEach(s => {\\n    // Eat grass\\n    const sq = s.squareOfCentroid();\\n    if (sq.state.grassLevel >= maxGrassLevel) {\\n      s.state.energy = s.state.energy + globals.get(\\\"sheepEnergyFromGrass\\\");\\n      sq.state.grassLevel = 0;\\n    }\\n  });\\n\\n  sim.withLabel(\\\"wolves\\\").forEach(w => {\\n    // Eat sheep\\n    const s = w.overlapping(\\\"actor\\\").find(a => a?.label(\\\"sheep\\\"));\\n    if (s) {\\n      w.state.energy = w.state.energy + s.state.energy / 2;\\n      s.remove();\\n      globals.set(\\\"sheepCount\\\", globals.get(\\\"sheepCount\\\") - 1);\\n    }\\n  });\\n};\\n\\n// set up squares (patches)\\nfor (let x = 0; x < sim.width / sim.gridStep; x++) {\\n  for (let y = 0; y < sim.height / sim.gridStep; y++) {\\n    const square = sim.squareAt(x, y);\\n    square.zIndex = -Infinity;\\n\\n    // Set initial grass level\\n    const grassLevel = Math.random() > .5 ? maxGrassLevel : Math.random() * maxGrassLevel;\\n    square.state = { grassLevel };\\n\\n    // Color squares based on grass level\\n    square.vis({ tint: s => s.state.grassLevel === maxGrassLevel ? \\\"0x00cc00\\\" : \\\"0x996600\\\" });\\n  }\\n}\\n\\n// sheep\\nfunction create_a_sheep(props) {\\n  const { color, energy, x, y } = props ?? {};\\n  const agent = new AA.Actor();\\n  agent.radius = 10;\\n  agent.vel = AA.Vector.randomAngle(1);\\n  agent.vis({ image: sheepImage, tint: color });\\n  agent.label(\\\"sheep\\\", true);\\n  agent.state = { energy: energy ?? sheepEnergy };\\n  agent.x = x ?? globals.get(\\\"mouseX\\\") ?? Math.random() * sim.width;\\n  agent.y = y ?? globals.get(\\\"mouseY\\\") ?? Math.random() * sim.height;\\n\\n  actorsToAdd.push(agent);\\n  globals.set(\\\"sheepCount\\\", globals.get(\\\"sheepCount\\\") + 1);\\n  return agent;\\n}\\nfunction create_sheep(num, callback) {\\n  for (let i = 0; i < num; i++) {\\n    const agent = create_a_sheep();\\n    if (callback) callback(agent);\\n  }\\n}\\n\\n// wolves\\nfunction create_a_wolf(props) {\\n  const { color, energy, x, y } = props ?? {};\\n  const agent = new AA.Actor();\\n  agent.radius = 10;\\n  agent.vel = AA.Vector.randomAngle(1.5);\\n  agent.vis({ image: wolfImage, tint: color ?? \\\"0x333333\\\" });\\n  agent.label(\\\"wolves\\\", true);\\n  agent.state = { energy: energy ?? wolfEnergy };\\n  agent.x = x ?? globals.get(\\\"mouseX\\\") ?? Math.random() * sim.width;\\n  agent.y = y ?? globals.get(\\\"mouseY\\\") ?? Math.random() * sim.height;\\n\\n  actorsToAdd.push(agent);\\n  globals.set(\\\"wolfCount\\\", globals.get(\\\"wolfCount\\\") + 1);\\n  return agent;\\n};\\nfunction create_wolves(num, callback) {\\n  for (let i = 0; i < num; i++) {\\n    const agent = create_a_wolf();\\n    if (callback) callback(agent);\\n  }\\n}\\n\\n// actors bounce off the simulation boundary\\nsim.interaction.set(\\\"boundary-bounce\\\", {\\n  group1: sim,\\n  group2: sim.actors,\\n  behavior: \\\"bounce\\\"\\n});\\n\\nsetup();\\n\\nfunction _onClick(event) {\\n  globals.set(\\\"mouseX\\\", event.data.global.x);\\n  globals.set(\\\"mouseY\\\", event.data.global.y);\\n  onClick(event);\\n}\\n\\nsim.vis({\\n  background: true,\\n  click: _onClick\\n});\\n\",\"dataSourceInteractive\":\"interactive_15814\"}",
              "is_hidden": false,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "linked_interactive_item_id": null,
              "library_interactive": {
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "",
                  "base_url": "https://models-resources.concord.org/question-interactives/branch/master/agent-simulation/",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "",
                  "enable_learner_state": true,
                  "hide_question_number": false,
                  "save_interactive_state_history": false,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Agent Simulation (master)",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": false,
                  "authorable": true,
                  "report_item_url": "https://models-resources.concord.org/question-interactives/branch/master/agent-simulation/report-item/"
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "10258-ManagedInteractive",
              "linked_interactives": [
                {
                  "ref_id": "10253-ManagedInteractive",
                  "label": "dataSourceInteractive"
                }
              ]
            },
            {
              "column": "secondary",
              "is_half_width": false,
              "name": "New Blockly",
              "url_fragment": null,
              "authored_state": "{\"version\":1,\"questionType\":\"iframe_interactive\",\"customBlocks\":[{\"id\":\"controls_if\",\"name\":\"if\",\"type\":\"builtIn\",\"category\":\"General\",\"color\":\"#5ba55b\",\"config\":{\"canHaveChildren\":true}},{\"id\":\"logic_operation\",\"name\":\"and/or\",\"type\":\"builtIn\",\"category\":\"General\",\"color\":\"#5ba55b\",\"config\":{\"canHaveChildren\":false}},{\"id\":\"logic_negate\",\"name\":\"not\",\"type\":\"builtIn\",\"category\":\"General\",\"color\":\"#5ba55b\",\"config\":{\"canHaveChildren\":false}},{\"category\":\"Properties\",\"color\":\"#312b84\",\"config\":{\"inputsInline\":true,\"nextStatement\":true,\"previousStatement\":true,\"canHaveChildren\":false,\"childBlocks\":[],\"typeOptions\":[[\"sheep\",\"sheep\"],[\"wolves\",\"wolves\"]],\"defaultCount\":100,\"minCount\":0,\"maxCount\":500},\"id\":\"custom_creator_animals_1764889719128\",\"name\":\"animals\",\"type\":\"creator\"},{\"category\":\"Properties\",\"color\":\"#312b84\",\"config\":{\"inputsInline\":true,\"nextStatement\":true,\"previousStatement\":true,\"canHaveChildren\":false,\"typeOptions\":[[\"white\",\"white\"],[\"black\",\"black\"]],\"includeNumberInput\":false},\"id\":\"custom_setter_color_1764889740031\",\"name\":\"color\",\"type\":\"setter\"}],\"toolbox\":\"{\\n  \\\"kind\\\": \\\"categoryToolbox\\\",\\n  \\\"name\\\": \\\"General\\\",\\n  \\\"contents\\\": [\\n    {\\n      \\\"kind\\\": \\\"category\\\",\\n      \\\"name\\\": \\\"General\\\",\\n      \\\"colour\\\": \\\"#00836B\\\",\\n      \\\"contents\\\": []\\n    },\\n    {\\n      \\\"kind\\\": \\\"category\\\",\\n      \\\"name\\\": \\\"Properties\\\",\\n      \\\"colour\\\": \\\"#312b84\\\",\\n      \\\"contents\\\": []\\n    },\\n    {\\n      \\\"kind\\\": \\\"category\\\",\\n      \\\"name\\\": \\\"Action\\\",\\n      \\\"colour\\\": \\\"#004696\\\",\\n      \\\"contents\\\": []\\n    },\\n    {\\n      \\\"kind\\\": \\\"category\\\",\\n      \\\"name\\\": \\\"Controls\\\",\\n      \\\"colour\\\": \\\"#0089b8\\\",\\n      \\\"contents\\\": []\\n    }\\n  ]\\n}\",\"simulationCode\":\"// This file contains vanilla javascript code that runs the predator-prey simulation when it is copied and pasted\\n// into the simulation code area for the blockly or agent simulation interactives.\\n\\nconst sheepSvg = `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 300 300\\\">\\n  <!-- Circles (color -1 -> #FFFFFF) -->\\n  <circle cx=\\\"247\\\" cy=\\\"109\\\" r=\\\"44\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <circle cx=\\\"151\\\" cy=\\\"146\\\" r=\\\"81\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <circle cx=\\\"210\\\" cy=\\\"165\\\" r=\\\"60\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Polygon (color -7500403 -> #8D8D8D), filled no stroke -->\\n  <polygon\\n    points=\\\"218,120 240,165 255,165 278,120\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n\\n  <!-- Circle (ear) -->\\n  <circle cx=\\\"247.5\\\" cy=\\\"105.5\\\" r=\\\"33.5\\\" fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\" />\\n\\n  <!-- Rectangles (legs) -->\\n  <rect x=\\\"164\\\" y=\\\"223\\\" width=\\\"15\\\" height=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n  <rect x=\\\"65\\\"  y=\\\"221\\\" width=\\\"15\\\" height=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Polygons (legs) -->\\n  <polygon\\n    points=\\\"45,285 30,285 30,240 15,195 45,210\\\"\\n    fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\"\\n  />\\n  <polygon\\n    points=\\\"195,285 210,285 210,240 240,210 195,210\\\"\\n    fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\"\\n  />\\n\\n  <!-- Large body circle -->\\n  <circle cx=\\\"78\\\" cy=\\\"158\\\" r=\\\"75\\\" fill=\\\"#FFFFFF\\\" stroke=\\\"#FFFFFF\\\" />\\n\\n  <!-- Small head/ear polygons -->\\n  <polygon\\n    points=\\\"276,85 285,105 302,99 294,83\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n  <polygon\\n    points=\\\"219,85 210,105 193,99 201,83\\\"\\n    fill=\\\"#8D8D8D\\\" stroke=\\\"none\\\"\\n  />\\n</svg>\\n`;\\n\\nconst wolfSvg = `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 300 300\\\">\\n  <!-- Polygon -16777216 true false -->\\n  <!-- color = #000000 (black), filled, no stroke -->\\n  <polygon\\n    points=\\\"253,133 245,131 245,133\\\"\\n    fill=\\\"#000000\\\"\\n    stroke=\\\"none\\\"\\n  />\\n\\n  <!-- Polygon -7500403 true true -->\\n  <!-- color = #8D8D8D (gray), filled + stroked -->\\n  <polygon\\n    points=\\\"2,194 13,197 30,191 38,193 38,205 20,226 20,257 27,265 38,266 40,260 31,253 31,230 60,206 68,198 75,209 66,228 65,243 82,261 84,268 100,267 103,261 77,239 79,231 100,207 98,196 119,201 143,202 160,195 166,210 172,213 173,238 167,251 160,248 154,265 169,264 178,247 186,240 198,260 200,271 217,271 219,262 207,258 195,230 192,198 210,184 227,164 242,144 259,145 284,151 277,141 293,140 299,134 297,127 273,119 270,105\\\"\\n    fill=\\\"#8D8D8D\\\"\\n    stroke=\\\"#8D8D8D\\\"\\n    stroke-width=\\\"1\\\"\\n    stroke-linejoin=\\\"round\\\"\\n  />\\n\\n  <!-- Polygon -7500403 true true -->\\n  <!-- color = #8D8D8D (gray), filled + stroked -->\\n  <polygon\\n    points=\\\"-1,195 14,180 36,166 40,153 53,140 82,131 134,133 159,126 188,115 227,108 236,102 238,98 268,86 269,92 281,87 269,103 269,113\\\"\\n    fill=\\\"#8D8D8D\\\"\\n    stroke=\\\"#8D8D8D\\\"\\n    stroke-width=\\\"1\\\"\\n    stroke-linejoin=\\\"round\\\"\\n  />\\n</svg>\\n`;\\n\\nconst encodeSvg = (svg) => `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svg)}`;\\nconst wolfImage = encodeSvg(wolfSvg);\\nconst sheepImage = encodeSvg(sheepSvg);\\n\\nconst sheepEnergy = 6;\\nconst sheepReproduceChance = 0.002;\\nconst sheepEnergyLoss = 0.01;\\n\\nconst wolfEnergy = 20;\\nconst wolfReproduceChance = 0.0005;\\nconst wolfEnergyLoss = 0.1;\\n\\nconst maxGrassLevel = 10;\\nconst grassGrowthRate = 0.01;\\n\\n// Create widgets\\naddWidget({\\n  data: {\\n    label: \\\"Sheep Energy from Grass\\\",\\n    min: 1,\\n    max: 50\\n  },\\n  defaultValue: 3,\\n  globalKey: \\\"sheepEnergyFromGrass\\\",\\n  type: \\\"slider\\\"\\n});\\naddWidget({\\n  data: {\\n    label: \\\"Sheep Energy from Grass\\\"\\n  },\\n  globalKey: \\\"sheepEnergyFromGrass\\\",\\n  type: \\\"readout\\\"\\n});\\naddWidget({\\n  data: {\\n    label: \\\"Sheep\\\"\\n  },\\n  defaultValue: 0,\\n  globalKey: \\\"sheepCount\\\",\\n  type: \\\"readout\\\"\\n});\\naddWidget({\\n  data: {\\n    backgroundColor: \\\"#666\\\",\\n    color: \\\"#fff\\\",\\n    label: \\\"Wolves\\\"\\n  },\\n  defaultValue: 0,\\n  globalKey: \\\"wolfCount\\\",\\n  type: \\\"readout\\\"\\n});\\n\\nfunction setup() {\\n  create_sheep(50);\\n  create_wolves(10);\\n}\\n\\n// Agents added outside of the sim tick function (like onClick) do not get added to the renderer,\\n// so instead of adding agents directly, we create a queue and add them in beforeTick.\\nlet actorsToAdd = [];\\n\\nsim.beforeTick = () => {\\n  actorsToAdd.forEach(a => a.addTo(sim));\\n  actorsToAdd = [];\\n}\\n\\nsim.afterTick = () => {\\n  sim.squares.forEach(square => {\\n    // Grow grass\\n    if (square.state.grassLevel < maxGrassLevel) {\\n      square.state.grassLevel = Math.min(maxGrassLevel, square.state.grassLevel + grassGrowthRate);\\n    }\\n  });\\n\\n  sim.actors?.forEach(a => {\\n    // Lose energy and possibly die\\n    const energyLoss = a.label(\\\"sheep\\\") ? sheepEnergyLoss : wolfEnergyLoss;\\n    a.state.energy = a.state.energy - energyLoss;\\n    if (a.state.energy <= 0) {\\n      const globalKey = a.label(\\\"sheep\\\") ? \\\"sheepCount\\\" : \\\"wolfCount\\\";\\n      globals.set(globalKey, globals.get(globalKey) - 1);\\n      a.remove();\\n      return;\\n    }\\n\\n    // Turn\\n    a.vel.turn(Math.random() * Math.PI / 4 - Math.PI / 8);\\n\\n    // Reproduce\\n    const reproduceChance = a.label(\\\"sheep\\\") ? sheepReproduceChance : wolfReproduceChance;\\n    if (Math.random() < reproduceChance) {\\n      const addFunction = a.label(\\\"sheep\\\") ? create_a_sheep : create_a_wolf;\\n      addFunction({ energy: a.state.energy / 2, x: a.x, y: a.y });\\n      a.state.energy = a.state.energy / 2;\\n    }\\n  });\\n\\n  sim.withLabel(\\\"sheep\\\").forEach(s => {\\n    // Eat grass\\n    const sq = s.squareOfCentroid();\\n    if (sq.state.grassLevel >= maxGrassLevel) {\\n      s.state.energy = s.state.energy + globals.get(\\\"sheepEnergyFromGrass\\\");\\n      sq.state.grassLevel = 0;\\n    }\\n  });\\n\\n  sim.withLabel(\\\"wolves\\\").forEach(w => {\\n    // Eat sheep\\n    const s = w.overlapping(\\\"actor\\\").find(a => a?.label(\\\"sheep\\\"));\\n    if (s) {\\n      w.state.energy = w.state.energy + s.state.energy / 2;\\n      s.remove();\\n      globals.set(\\\"sheepCount\\\", globals.get(\\\"sheepCount\\\") - 1);\\n    }\\n  });\\n};\\n\\n// set up squares (patches)\\nfor (let x = 0; x < sim.width / sim.gridStep; x++) {\\n  for (let y = 0; y < sim.height / sim.gridStep; y++) {\\n    const square = sim.squareAt(x, y);\\n    square.zIndex = -Infinity;\\n\\n    // Set initial grass level\\n    const grassLevel = Math.random() > .5 ? maxGrassLevel : Math.random() * maxGrassLevel;\\n    square.state = { grassLevel };\\n\\n    // Color squares based on grass level\\n    square.vis({ tint: s => s.state.grassLevel === maxGrassLevel ? \\\"0x00cc00\\\" : \\\"0x996600\\\" });\\n  }\\n}\\n\\n// sheep\\nfunction create_a_sheep(props) {\\n  const { color, energy, x, y } = props ?? {};\\n  const agent = new AA.Actor();\\n  agent.radius = 10;\\n  agent.vel = AA.Vector.randomAngle(1);\\n  agent.vis({ image: sheepImage, tint: color });\\n  agent.label(\\\"sheep\\\", true);\\n  agent.state = { energy: energy ?? sheepEnergy };\\n  agent.x = x ?? globals.get(\\\"mouseX\\\") ?? Math.random() * sim.width;\\n  agent.y = y ?? globals.get(\\\"mouseY\\\") ?? Math.random() * sim.height;\\n\\n  actorsToAdd.push(agent);\\n  globals.set(\\\"sheepCount\\\", globals.get(\\\"sheepCount\\\") + 1);\\n  return agent;\\n}\\nfunction create_sheep(num, callback) {\\n  for (let i = 0; i < num; i++) {\\n    const agent = create_a_sheep();\\n    if (callback) callback(agent);\\n  }\\n}\\n\\n// wolves\\nfunction create_a_wolf(props) {\\n  const { color, energy, x, y } = props ?? {};\\n  const agent = new AA.Actor();\\n  agent.radius = 10;\\n  agent.vel = AA.Vector.randomAngle(1.5);\\n  agent.vis({ image: wolfImage, tint: color ?? \\\"0x333333\\\" });\\n  agent.label(\\\"wolves\\\", true);\\n  agent.state = { energy: energy ?? wolfEnergy };\\n  agent.x = x ?? globals.get(\\\"mouseX\\\") ?? Math.random() * sim.width;\\n  agent.y = y ?? globals.get(\\\"mouseY\\\") ?? Math.random() * sim.height;\\n\\n  actorsToAdd.push(agent);\\n  globals.set(\\\"wolfCount\\\", globals.get(\\\"wolfCount\\\") + 1);\\n  return agent;\\n};\\nfunction create_wolves(num, callback) {\\n  for (let i = 0; i < num; i++) {\\n    const agent = create_a_wolf();\\n    if (callback) callback(agent);\\n  }\\n}\\n\\n// actors bounce off the simulation boundary\\nsim.interaction.set(\\\"boundary-bounce\\\", {\\n  group1: sim,\\n  group2: sim.actors,\\n  behavior: \\\"bounce\\\"\\n});\\n\\nsetup();\\n\\nfunction _onClick(event) {\\n  globals.set(\\\"mouseX\\\", event.data.global.x);\\n  globals.set(\\\"mouseY\\\", event.data.global.y);\\n  onClick(event);\\n}\\n\\nsim.vis({\\n  background: true,\\n  click: _onClick\\n});\"}",
              "is_hidden": false,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "linked_interactive_item_id": null,
              "library_interactive": {
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "",
                  "base_url": "https://models-resources.concord.org/question-interactives/branch/master/blockly/?v3",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "",
                  "enable_learner_state": true,
                  "hide_question_number": false,
                  "save_interactive_state_history": false,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Blockly (master)",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": false,
                  "authorable": true,
                  "report_item_url": "https://models-resources.concord.org/question-interactives/branch/master/blockly/report-item/?v3"
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "10253-ManagedInteractive",
              "linked_interactives": []
            }
          ]
        },
        {
          "layout": "full-width",
          "is_hidden": false,
          "secondary_column_collapsible": false,
          "secondary_column_display_mode": "stacked",
          "embeddables": [
            {
              "column": null,
              "is_half_width": false,
              "content": "<p>This is a full width section containing text box and an interactive.</p>",
              "is_callout": true,
              "is_hidden": false,
              "name": "",
              "type": "Embeddable::Xhtml",
              "ref_id": "272424-Embeddable::Xhtml"
            },
            {
              "name": "",
              "url_fragment": "",
              "authored_state": "",
              "is_hidden": false,
              "is_full_width": true,
              "show_in_featured_question_report": true,
              "inherit_aspect_ratio_method": true,
              "custom_aspect_ratio_method": null,
              "inherit_native_width": true,
              "custom_native_width": 576,
              "inherit_native_height": true,
              "custom_native_height": 435,
              "inherit_click_to_play": true,
              "custom_click_to_play": false,
              "inherit_full_window": true,
              "custom_full_window": false,
              "inherit_click_to_play_prompt": true,
              "custom_click_to_play_prompt": null,
              "inherit_image_url": true,
              "custom_image_url": null,
              "library_interactive": {
                "hash": "53f9a6e00236e2c86b5c3dbf2fe186e179ed8872",
                "data": {
                  "aspect_ratio_method": "DEFAULT",
                  "authoring_guidance": "<p>Author a model at&nbsp;<a href=\"https://connected-bio-spaces.concord.org/?authoring\">https://connected-bio-spaces.concord.org/?authoring</a>, hit Submit, then copy the fragment of the url after \"?\".</p>",
                  "base_url": "https://connected-bio-spaces.concord.org/",
                  "click_to_play": false,
                  "click_to_play_prompt": null,
                  "description": "",
                  "enable_learner_state": true,
                  "full_window": false,
                  "has_report_url": false,
                  "image_url": null,
                  "name": "Connected Bio",
                  "native_height": 435,
                  "native_width": 576,
                  "no_snapshots": false,
                  "show_delete_data_button": false,
                  "thumbnail_url": "",
                  "customizable": false,
                  "authorable": false
                }
              },
              "type": "ManagedInteractive",
              "ref_id": "359-ManagedInteractive"
            }
          ]
        }
      ]
    }
  ],
  "plugins": [],
  "type": "LightweightActivity",
  "export_site": "Lightweight Activities Runtime and Authoring"
}
